# üéì Telegram-–±–æ—Ç ¬´–°—Ç–∞—Ä–æ—Å—Ç–∞ –≥–æ–¥–∞¬ª

–ë–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∫–æ–Ω–∫—É—Ä—Å–∞ **¬´–°—Ç–∞—Ä–æ—Å—Ç–∞ –≥–æ–¥–∞¬ª** –≤ Telegram.  
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –Ω–∞ **aiogram v3** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π FSM, Google Sheets –∏ —Å–∏—Å—Ç–µ–º–æ–π –∫—É—Ä–∞—Ç–æ—Ä—Å—Ç–≤–∞.  

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üë§ –î–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –§–ò–û –∏ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–π –≥—Ä—É–ø–ø—ã  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫—É—Ä–∞—Ç–æ—Ä–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ (`curators.csv`)  
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞–Ω–∏–π –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫  
- –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ, –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–¥–∏–∞)  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É—Ä–∞—Ç–æ—Ä–æ–º —Å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ–º –±–∞–ª–ª–æ–≤  
- –î–æ—Å—Ç—É–ø –∫ *–°—É–ø–µ—Ä–∑–∞–¥–∞–Ω–∏—é* –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚â•3 –∑–∞–¥–∞–Ω–∏–π  
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∏ –±–∞–ª–ª–∞–º–∏  

### üßë‚Äçüè´ –î–ª—è –∫—É—Ä–∞—Ç–æ—Ä–æ–≤:
- –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö  
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞–Ω–∏–π –ø–æ –æ–¥–Ω–æ–º—É, –Ω–∞—á–∏–Ω–∞—è —Å —Å–∞–º—ã—Ö —Å—Ç–∞—Ä—ã—Ö  
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞—á–µ—Å—Ç—å –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ  
- –£–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–∞  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞—á—ë—Ç–∞  

### üõ†Ô∏è –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫—É—Ä–∞—Ç–æ—Ä–∞–º–∏  
  - –£–¥–∞–ª–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º  
  - –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫—É—Ä–∞—Ç–æ—Ä–∞  
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫—É—Ä–∞—Ç–æ—Ä–æ–≤  
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ –≤ Google Sheets  
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.py                # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ tasks_data.json        # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∫ –∑–∞–¥–∞–Ω–∏—è–º
‚îú‚îÄ‚îÄ curators.csv           # –°–ø–∏—Å–æ–∫ –∫—É—Ä–∞—Ç–æ—Ä–æ–≤ (–§–ò–û, Telegram ID)
‚îú‚îÄ‚îÄ credentials.json       # –ö–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ Google API
‚îú‚îÄ‚îÄ .env                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (BOT_TOKEN, ADMIN_IDS, SPREADSHEET_ID)
‚îú‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
```bash
git clone https://github.com/Throddy/RNIMU-ITMO-HSE.git
cd starosta-bot
```

### 2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r requirements.txt
```

### 3Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`
```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
ADMIN_IDS=123456789,987654321
CURATORS_CSV=curators.csv
SPREADSHEET_ID=–≤–∞—à_id_—Ç–∞–±–ª–∏—Ü—ã
DB_PATH=bot.db
```

### 4Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ `curators.csv`
```csv
fio,telegram_id
–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á,123456789
–ü–µ—Ç—Ä–æ–≤–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞,987654321
```

### 5Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Sheets
1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/)  
2. –í–∫–ª—é—á–∏—Ç–µ **Google Sheets API** –∏ **Google Drive API**  
3. –°–∫–∞—á–∞–π—Ç–µ JSON-–∫–ª—é—á ‚Üí –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤ `credentials.json`  
4. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ç–∞–±–ª–∏—Ü–µ–π —Å –∞–¥—Ä–µ—Å–æ–º `client_email` –∏–∑ `credentials.json`

### 6Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
```bash
python main.py
```

---

## üß© –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------|
| `/start` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∏–ª–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏ –∫—É—Ä–∞—Ç–æ—Ä–∞ |
| `/tasks` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π |
| `/profile` | –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ |
| `/export` | (–ê–¥–º–∏–Ω) –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞ –≤ Google Sheets |
| `/stats` | (–ê–¥–º–∏–Ω) –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—É—Ä–∞—Ç–æ—Ä–æ–≤ |
| `/delete_user <id>` | (–ê–¥–º–∏–Ω) –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/delete_curator <id>` | (–ê–¥–º–∏–Ω) –£–¥–∞–ª–∏—Ç—å –∫—É—Ä–∞—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å –µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ |
| `/gen_curator_link` | (–ê–¥–º–∏–Ω) –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫—É—Ä–∞—Ç–æ—Ä–∞ |

---

## üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É –ø—Ä–∏ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –∫—É—Ä–∞—Ç–æ—Ä–æ–º.  
–§–æ—Ä–º–∞—Ç —Ç–∞–±–ª–∏—Ü—ã:

| –ú–µ—Å—Ç–æ | –§–ò–û | –ì—Ä—É–ø–ø–∞ | –ë–∞–ª–ª—ã | –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è |
|--------|-----|--------|--------|-----------------------|

---

## üß† –ü—Ä–∏–º–µ—Ä `tasks_data.json`

```json
[
  {
    "id": 1,
    "title": "–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ",
    "instruction": "–°–æ—Å—Ç–∞–≤—å –∞–Ω–∫–µ—Ç—É –æ —Å–µ–±–µ (–§–ò–û, –≥—Ä—É–ø–ø–∞, –∏–Ω—Å—Ç–∏—Ç—É—Ç) –∏ —Ä–∞—Å—Å–∫–∞–∂–∏, –ø–æ—á–µ–º—É —Ç—ã —Å—Ç–∞–ª(–∞) —Å—Ç–∞—Ä–æ—Å—Ç–æ–π.",
    "hint": "–ü–æ–ø—Ä–æ–±—É–π –Ω–∞–ø–∏—Å–∞—Ç—å –∫—Ä–∞—Ç–∫–æ –∏ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ ‚Äî —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–±—è."
  },
  {
    "id": 5,
    "title": "–ü–∞–º—è—Ç–Ω—ã–π –∫–∞–¥—Ä",
    "instruction": "–°–¥–µ–ª–∞–π –Ω–µ–æ–±—ã—á–Ω–æ–µ —Ñ–æ—Ç–æ –≤—Å–µ–π –≥—Ä—É–ø–ø–æ–π, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –∑–∞–ø–æ–º–Ω–∏—Ç–µ –Ω–∞–¥–æ–ª–≥–æ.",
    "hint": "–í—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –º–µ—Å—Ç–æ –∏–ª–∏ –æ–±—â—É—é —Ç–µ–º–∞—Ç–∏–∫—É, —á—Ç–æ–±—ã —Ñ–æ—Ç–æ –≤—ã–¥–µ–ª—è–ª–æ—Å—å."
  },
  {
    "id": 13,
    "title": "–°—É–ø–µ—Ä–∑–∞–¥–∞–Ω–∏–µ",
    "instruction": "–í–º–µ—Å—Ç–µ —Å –≥—Ä—É–ø–ø–æ–π –ø–æ—Å–µ—Ç–∏—Ç–µ –∫–∏–Ω–æ, —Ç–µ–∞—Ç—Ä –∏–ª–∏ –∫–≤–∏–∑. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ –∏–ª–∏ –≤–∏–¥–µ–æ-–æ—Ç—á—ë—Ç.",
    "hint": "–≠—Ç–æ –∑–∞–¥–∞–Ω–∏–µ —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è 3 –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞–Ω–∏–π."
  }
]
```

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **Python 3.10+**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **aiogram 3.x**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Äî **SQLite (aiosqlite)**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞-–≥—Ä—É–ø–ø (–∞–ª—å–±–æ–º–æ–≤)  
- FSM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏—ë–º–∞ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–æ—Ç–æ + —Ç–µ–∫—Å—Ç)  

---

## üè´ –ê–≤—Ç–æ—Ä—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—Å–∫–æ–≥–æ –∫–æ–Ω–∫—É—Ä—Å–∞ **¬´–°—Ç–∞—Ä–æ—Å—Ç–∞ –≥–æ–¥–∞¬ª**.  
–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ø–æ–¥ —Å–≤–æ—ë —É—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ ‚Äî  
–∏–∑–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã `tasks_data.json` –∏ `curators.csv`.