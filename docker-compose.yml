version: '3.8'

services:
  starosta-bot:
    build: .
    container_name: starosta-bot
    restart: unless-stopped
    environment:
      - BOT_TOKEN=${BOT_TOKEN}
      - ADMIN_IDS=${ADMIN_IDS}
      - CURATORS_CSV=${CURATORS_CSV:-curators.csv}
      - DB_PATH=/app/data/bot.db        # üëà –±–∞–∑–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
      - SPREADSHEET_ID=${SPREADSHEET_ID}
    volumes:
      # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
      - ./data:/app/data                # üëà –º–æ–Ω—Ç–∏—Ä—É–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è –±–∞–∑—ã
      - ./curators.csv:/app/curators.csv:ro
      - ./tasks_data.json:/app/tasks_data.json:ro
      - ./credentials.json:/app/credentials.json:ro
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
